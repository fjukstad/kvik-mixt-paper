% TODO:
% - Draw up a sketch of what is MIxT and what is Kvik
% - What interfaces does Kvik provide?
% - Spark, look at their papers and the app / abstractions.
% - What are the ops done most frequent? Get data from KEGG/Msigdb etc?
% - Scrap hard line breaks for LA (soft lines instead)
% - add pdf to git.

\section*{Background}
% Snakk litt om de forskjellige systemene i hver disciplin
% --> Standing on the shoulders of giants
% Analysis frameworks: R, Bioconductor, Galaxy
% Visualization: Cytoscape, BioJS, D3
% Databases: MSiGDB, KEGG, GeneCards, PubMed
% Reprodicibility: Docker, R Packages, Kube
% Parallelized and distributed computation: Hadoop, Spark, Kubernets, Azure

% Analysis frameworks: Bioconductor in R, Python.
% Visualization: Cytoscpape, D3, BioJS.
% Databases: MSigDB, KEGG, PubMed.
%
% Data wrangling and analysis done in R or other languages.
% Visualization and presentation of final datasets by external tools.
% Manual database lookup is tedious and gets out of date.
%
% Related work: OpenCPU, biogo, renjin,

% LAB: overodnet, så er det en grei intro i Kvik Framework, så den kan kanskje modifiseres hvis ikke det er en helt annen vinkling i dette paperet

% LAB: forlag til struktur i Intro:
%
% 1. Jeg ville begynt med å beskrive "explorative data analysis" for å tolke eksperiment data. Motiver behovet for visualisering + statistisk analyse + referenase databaser. Jeg tror §1 og §2 fra "Kvik Framework.docx" kan brukes som utgangs punkt (men med System Epidemiology fjernet). Konklusjon: det er stort behov for slike verktøy.
% 2. Deretter ville jeg beskrevet behovet for å lage spesialiserte data exploration verktøy. Jeg tror "Such special purpose..." § fra Framwork kan omskrives. Konklusjon: det er behov for å raskt kunne skrive exploration apps prototyper. Reviwerene av app note likte dette poenget, og i mitt hode er dette hoved målet/bidraget i dette paperet.
% 3. Jeg er usikker på om vi skal argumentere for at det ofte blir behov for å skalere/ optimalisere/ deploye de prototype appene. Det passer kanskje godt med bidraget i dette paperet?
% 4. Requirements mener jeg er:
%    i. "JavaScript + R"
%   ii. Easy to add new functionality (viz or stat)
%  iii. Short reponse times
%   iv. Reference databases: up-to-date with provenance and space effecient storage
%    v. Integration with (big data/ distributed) data analysis and exploration engines
%   vi. Noe jeg ikke har fått med meg?
% 5. Deretter hvorfor previous work ikke løser alle 5
% 6. Hva Kvik er:
%    i. Lag mellom viz & stat & DBs (merk usikker på hvor input/output data passer inn)
%
           JavaScript (Visualization)
                       ||
Inpup/output data? == KVIK == Reference databases
                    //   \\
R (Statistical analysis)  Other engines (scale/speed)

%   ii. Abstraksjoner/ interfaces som gjør det raskt å protype exploration apps
%iii/v. En slags execution engine som router requests til rett sted. Dvs den tilbyr funksjonalitet i seg selv (ikke sikker på hva dette er :)
%   iv. Caching, logging, etc. Dette er en viktig bit vil jeg tro, særlig når ref DBs begynner å bli veldig store.
% 7. Contributions:
%    i. Approach for vis + stat + DB m. enkel implementering
%   ii. Demonstrasjon ved å ha implementert 3-4 apps
%  iii. Performance evaluation


In the past decade the generation of biological datasets has been unprecedented,
and the famous "\$1000k genome, \$1M analysis"\cite{} has become more apparent.
To decrease both time and cost of analysing biological data, there is now a
growing number of analysis framework in various programming languages. \cite{}

In R, there are popular package repositories such as CRAN
\url{cran.r-project.org} or Bioconductor \url{bioconductor.org} where developers
can share software packages and keep them up-to-date. In these repositories
researchers can find software for analysing high-throughput genomic data in one
environment. Analysing includes both pre-processing, e.g. cleaning, removing
outliers, and analysing it with know statistical methods.

Especially large datasets in biology require sophisticated methods for
visualizing and communicating the data. In


% The big issue: There is no link between analysis and final presentation

\subsection*{Motivating example}

% MIxT.
% Interactive web application for exploring WGCNA modules from blood and biopsy.
% Integrate results with known genesets and online databases.
% Docker containers for reproducibility and portability.
% Data analysis: R package  + Kvik = R in the browser.
% Visualization: D3, SigmaJS, R Plots
% How can we improve Kvik and its features: R user input sanitation, security,

We motivate the need for Kvik by describing the Kvik-MIxT application for... We
describe its functionality, implementation (uten fokus på Kvik) and performance
requirements. OG ANDRE VIKTIGE TING (SECURITY, ETC). Then we describe how MIxT
is designed to seperate concerns and allow for a layered implementation. We use
this to motivate the need and opportunities to abstract away common
functionality of these type of applications.

% Gir dette mening?

\section*{Methods}
% Collection of packages in the Go programming language for building data
% exploration applications.  Interfaces with popular online databases such as
% MSigDB and KEGG.  Provides an interface to the R programming language.
% Typically used to build web apps, but commandline tools are also possible!

% LAB: denne bør begynne med Architecture/overview: ASCII figuren fra Intro, kanskje litt rafinert:
%  * Interface mot JavaScript er en mer generell REST API, så kan være cli eller noe annet som bruker den.
%  * Reference databases er kanskje en egen "ting" i Kvik. Dvs abstraksjoner som gjør det enkelt å implementere disse for MSigDB, KEGG. Dvs de tar seg av caching og provenance.
%
% Her passer det også å vise hvordan MIxT mappes til figuren. 

% LAB: jeg tenker på dette som en slags execution engine, og at dette er laget mellom R og JS. 
% Hva slags interface exporter den til JS? Og hvorfor?
% Hva gjør den? Og hvorfor kan ikke dette gjøres i JS eller R?
% Hva er det som er generelt? Og hva er app spesifikt?
% Hva er gjort for å få god performance?
% Andre ting denne tar seg av?
% Hvorfor, og hvordan, det er lett å legge til ny funksjonalitet
\subsection*{Statistical analyses}
Describe how we've designed the interface with R: Build an R-package and call
functions from it, we provide four different output formats to the user
 (json, csv, pdf, png),  as well as four different http endpoints (call, get and
rpc).

% LAB: jeg tenker på dette som en måte å implementere støtte for ulike refDBs. Dvs den tilbyr abstraksjoner/ data strukturer/ wrappere/ metoder for:
% * Hente data fra online DBs (feilhåndtering, etc)
% * Caching av data hentet fra online DBs
% * Provenance logging / managemnt for data fra online DBs
% * En måte å effektivt lagre disse DB på, både for god performance og lite space
% * En måte å gjenbruke kode (og data) for en DB som feks KEGG
% * Eventuelt andre ting denne tar seg av?
%
% I tillegg:
% Hvorfor ikke gjøre dette i JS eller R?
% Hvordan implementerer man KEGG etc?
\subsection*{Databases}
Describe the interface to the databases and what we use it for. Could be
interesting to talk about provenance/caching.

% LAB: her er stedet for alle Go bibliotek og andre lavnivå detlajer
\subsection*{Implementation}

% LAB: Litt usikker på om dette hører til i Results eller Methods
\subsection*{Applications}

% LAB: kort beskrivelse av hva alle apps gjør

% LAB: Figur som viser hva som er felles og ulikt for alle appene. Her bør noe være likt ellers har vi bare 3-4 applikasjoner :)

% LAB: mer detaljert beskrivelse av hvordan hver app er implementert med Kvik

\section*{Results and Discussion}
Describe the MIxT application. Also talk about how our R interface scales and
what makes it better than opencpu/renji.

% LAB: Questions:
% 1. Er execution engine raskere en andre alternativer? Svar: måle mot andre alternativer.
% 2. Gir ref DB caching bedre performance? Svar: som i master thesis.
% 3. Har provenance mangement høy overhead (response tid & storage)? Svar: måle disse.
% 4. Er det lett å legge til ny funksjonalitet (viz & stat & optimizations)? Svar: beskrive hvordan ikke-MIxT apps ble laget
% 5. Er Kvik apps raske? Svar: performance analyze av MiXT, inkl. bottlenecks, skalerbarhet, etc.
% 6. Er Kvik apps enkle å utvikle/vedlikeholde? Svar: beskrive hvordan MiXT ble laget (fra mess til den vakre nåværende kodebasen).

\section*{Conclusions}
